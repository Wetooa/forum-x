{{#each data}}
  {{#if post}}
    <div
      class="py-4 w-full break-words overflow-hidden border-t border-white/20 hover:bg-black/20 transition-all flex justify-between {{#if isOwner}} bg-black/10 {{/if}}"
    >
      <div class="w-[90%]">
        <div class="flex items-start gap-2 p-4">
          <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8">
            <path stroke-linecap="round" stroke-linejoin="round" d="M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z" />
          </svg>
          <div>
            <h3 class="text-xl font-bold">{{user}}</h3>
            <p class="text-sm text-opacity">{{date}}</p>
            <p class="mt-2">{{post}}</p>
          </div>
        </div>

        <div class="my-2 flex gap-1 p-4 pt-0">
          <input
            class="bg-transparent text-white p-2 flex-1 border-b border-white/20 focus:outline-none focus:border-b-2 reply-button"
            type="text"
            id="reply-input-{{id}}"
            placeholder="Reply to post..."
          >
        </div>

        {{#if reply}}
          <div class="flex flex-col gap-2">
            {{#each reply}}
              <div class="flex pl-10 hover:bg-black/10 p-2 rounded-lg">
                <div class="flex items-start gap-2 p-2 w-full">
                  <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="w-8 h-8">
                    <path stroke-linecap="round" stroke-linejoin="round" d="M17.982 18.725A7.488 7.488 0 0012 15.75a7.488 7.488 0 00-5.982 2.975m11.963 0a9 9 0 10-11.963 0m11.963 0A8.966 8.966 0 0112 21a8.966 8.966 0 01-5.982-2.275M15 9.75a3 3 0 11-6 0 3 3 0 016 0z" />
                  </svg>
                  <div>
                    <h3 class="text-xl font-bold">{{user}}</h3>
                    <p class="text-sm text-opacity">{{date}}</p>
                    <p class="mt-2">{{reply}}</p>
                  </div>
                </div>
                {{#if isOwner}}
                  <button
                    class="delete-reply-button p-1 transition-all hover:bg-white/20 rounded-lg mx-auto w-fit h-fit hover:text-red-300"
                    value="{{id}}"
                  >⌫
                  </button>
                {{/if}}
              </div>
            {{/each}}
          </div>
        {{/if}}
      </div>

      {{#if isOwner}}
      <button
        class="delete-button p-1 transition-all hover:bg-white/20 rounded-lg mx-auto w-fit h-fit hover:text-red-300"
        value="{{id}}"
      >⌫
      </button>
      {{/if}}
    </div>
  {{/if}}
{{/each}}